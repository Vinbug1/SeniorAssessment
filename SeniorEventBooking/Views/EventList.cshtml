@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
    Layout = "master.cshtml";
    var events = Model.Content.Children()
        .Where(x => x.Value<DateTime?>("eventDateTime") != null)
        .OrderBy(x => x.Value<DateTime>("eventDateTime"));
}

<section class="event-list container">
    <h1 class="page-title">@Model.Content.Name</h1>

    <div class="event-layout">
        <!-- LEFT: Event list -->
        <ul class="events" aria-label="Upcoming events list">
            @foreach (var eventItem in events)
            {
                var eventDate = eventItem.Value<DateTime?>("eventDateTime");
                <li class="event-item" data-url="@eventItem.Url()">
                    <a href="@eventItem.Url()" class="event-link" title="View details for @eventItem.Name">
                        <h2>@eventItem.Name</h2>
                        <p>@eventItem.Value("summary")</p>
                        @if (eventDate.HasValue)
                        {
                            <p><strong>Date:</strong> @eventDate.Value.ToString("dd MMM yyyy")</p>
                        }
                        <p><strong>Location:</strong> @eventItem.Value("location")</p>
                    </a>
                </li>
            }
        </ul>

        <!-- RIGHT: Event details -->
        <div id="eventDetail" class="event-detail" aria-live="polite">
            <p>Select an event to see details.</p>
        </div>
    </div>
</section>

<!-- External styles and scripts -->
<link rel="stylesheet" href="/css/event-list.css" />
<script src="/js/event-list.js" defer></script>
